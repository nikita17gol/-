
%% -*- coding: utf-8 -*-
\documentclass[12pt,a4paper]{scrartcl} 
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{indentfirst}
\usepackage{misccorr}
\usepackage{graphicx}
\usepackage{amsmath}
\begin{document}




\section{Ход работы}
\label{sec:exp}

\subsection{Код программы}
\label{sec:exp:code}
\begin{verbatim}
class ParkMiller:
    def __init__(self, seed):
        self.seed = seed
        self.multiplier = 16807
        self.modulus = 214748364

    def rand(self):
        self.seed = (self.multiplier * self.seed) % self.modulus
        return self.seed / self.modulus


class ShuffledParkMiller:
    def __init__(self, seed):
        self.generator = ParkMiller(seed)

    def rand(self):
        values = []
        for i in range(0, 16):
            values.append(self.generator.rand())

        # shuffle the values
        for i in range(15, 0, -1):
            j = int(self.generator.rand() * (i+1))
            values[i], values[j] = values[j], values[i]

        # return the first value
        return values[0]


def main():
    seed = 123456789
    park_miller = ParkMiller(seed)
    shuffled_park_miller = ShuffledParkMiller(seed)

    # generate 10 random numbers with Park-Miller generator
    print("Random numbers generated by Park-Miller:")
    for i in range(0, 10):
        print(park_miller.rand())

    # generate 10 random numbers with shuffled Park-Miller generator
    print("\nRandom numbers generated by Shuffled Park-Miller:")
    for i in range(0, 10):
        print(shuffled_park_miller.rand())

if __name__ == "__main__":
    main()

\end{verbatim}

\subsection{ТЕОРИЯ}
\label{sec:mathexample}

Самая простая последовательность, которую можно предложить для реализации генератора равномерного распределения::
\begin{equation}\label{eq:solv}
 I(j+1)=a*I(j)(mod m)
\end{equation}
при соответствующем выборе констант. Константы были предложены Park и Miller:
\begin{equation}\label{eq:solv}
 a=7^5=16807,m=2^3^1-1=2147483647
\end{equation}
Модуль разлагается в выражение:
\begin{equation}\label{eq:solv}
m=a*q+r
\end{equation}
Если r<q и 0<z<m-1, то при этом величины a*(z mod q) и r*[z/q] всегда лежат в интервале 0,...,m-1. Для умножения (a*z)(mod m) при этом используется алгоритм:
\begin{enumerate}
 \item t = a(z mod q)-r[z/q]
 \item если t<0, то t += m.
 \item (a*z)(mod m)=t.

\end{enumerate}
В случае констант Парка-Миллера можно использовать q=12773 и r=2836.

\section{Пример вставки результата отладки программы изображения}
\label{sec:picexample}
\begin{figure}[h]
	\centering
	\includegraphics[width=1\textwidth]{РЕЗУЛЬТАТ.png}
	\caption{отладка}\label{fig:par}
\end{figure}

Пример отладки программы представлен на рис.~\ref{fig:par}.



\end{document}

